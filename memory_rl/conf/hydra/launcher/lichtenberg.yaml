defaults:
    - submitit_slurm   # brings in _target_
    - _self_

timeout_min: 240          # wall-time [h] Ã— 60
nodes: 1
tasks_per_node: 1
cpus_per_task: 16
gres: "gpu:a100:1"
mem_per_cpu: 4G

account: project02654

setup:
    - "module purge"
    - "module load cuda"
    - "source $HOME/memory-rl/.venv/bin/activate"
    - 'export JAX_PLATFORMS=cuda'
    - "export XLA_PYTHON_CLIENT_PREALLOCATE=false"
    - "export XLA_PYTHON_CLIENT_ALLOCATOR=cuda_async"
    - "export XLA_PYTHON_CLIENT_MEM_FRACTION=0.85"

